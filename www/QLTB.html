<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Quản lý thiết bị</title>
	<link rel="stylesheet" href="css/style.css" type="text/css" />
	<script `="text/javascript" src="js/jquery-1.10.1.js"></script>
	<script type="text/javascript" src="js/custom.js"></script>
    <script type="text/javascript" src="js/jquery_plus.js"></script>
    <script type="text/javascript" src="js/QLTB.js"></script>
	<script type="text/javascript">	
		$(function(){ 
			var show = false;
			$(".left_menu").css("height",y-65);		
			x -= 2;
			y -= 35;
			var left = x/4;
			var right = x - left;	
			$("#left").css("width",left); 
			$("#left").css("height",y);
			$("#right").css("width",right); 
			$("#right").css("height",y); 
			$('#ds_comp').css("height",y-120);	
			$('#ds_comp').css("width", left);														
			
			$('.loading').each(function(){
				var w = $(this).parent().css('width');
				var h = $(this).parent().css('height');
				$(this).css('width', w);
				$(this).css('height', h);
			});
			
			$("#left .loading").css('height', y - 80);
			
			$(".menu_icon").on('click', function () {
				if (show == false){
					$(".left_menu").animate({width: ""+left}, 200 );	
					$('.left_menu_content').show();
				} else {
					$('.left_menu_content').hide();
					$(".left_menu").animate({width: 0}, 200 );	
				}
				show = !show;
			});			
			
			$(".edit_icon").on('click', function () {
				if ($(this).hasClass('checked')){
					if (check_null()) add();
				}
				$(this).toggleClass("checked");
				$(".column_content").toggle();
				$(".column_edit textarea").toggle();				
			});	
			state = 1;
			$(".add_icon").on('click', function () {
				mode = "add";
				$('.edit_icon').addClass('checked');
				$('.edit_icon').show();	
				$('.column').show();			
				$('.column').html(getTable(currentID-1));
				$(".column_item").css("width", right/5 - 1);
				$(".column_header").css("width", right/5 - 1);
				$(".column_edit textarea").css("width", right/5 - 12);
				$(".column_edit textarea").css("height", 100);
			});	
			
			$(".left_menu li").on('click', function () {
				currentID = $(this).attr('id');
				get_list_component(1);
				$('.column').html('');
				$('.edit_icon').hide();														
				$('.left_menu_content').hide();				
				$(".left_menu").animate({width: 0}, 200 );
				show = false;								
			});
			$(document).on('click','#ds_comp li',function(){
				$('.edit_icon').addClass('checked');
				$('.edit_icon').show();	
				mode = "edit";
				$('.column').html(getTable(currentID-1));
				$(".column_item").css("width", right/5 - 1);
				$(".column_header").css("width", right/5 - 1);
				$(".column_edit textarea").css("width", right/5 - 12);
				$(".column_edit textarea").css("height", 100);
				get_detail_component($(this).attr('data-ms'),$(this).html());
			});
			
			$("#1").click();
			var currentPage = 1;
			get_list_component(currentPage);
			$('body').show();
			
			$('#first').on('click', function(){
				setPage(1);			
			});	
			
			$('#pre').on('click', function(){
				setPage(currentPage - 1);			
			});
			
			$('#next').on('click', function(){
				setPage(currentPage + 1);			
			});
			
			$('#last').on('click', function(){
							
			});
			
			$('.page_num').on('click', function(){
				setPage(parseInt($(this).html()));			
			});					
			
			function setPage(page){
				if (currentPage != page && page > 0){
					currentPage = page;
					get_list_component(currentPage);					
					var firstPage = currentPage - 1;
					if (firstPage > 0){
						$('.page_num').each(function() {
                            $(this).html(firstPage);
							$(this).removeClass('selected_color');
							firstPage++;							
                        });
						$('#page2').addClass('selected_color');
					} else {
						$('.page_num').each(function() {
                            $(this).html(firstPage+1);
							$(this).removeClass('selected_color');
							firstPage++;							
                        });
						$('#page1').addClass('selected_color');
					}					
				}	
			}

		});
	</script>
</head>
<body style="display:none">
	<div id="container">  
    	<div class="left_menu">
            <div class="left_menu_content">
                <ul class="decorate_text" id="type">
                    <li id="1">Thiết bị</li>
                    <li id="2">Loại thiết bị</li>
                    <li id="3">Loại Chi tiết</li>
                </ul>
            </div>
		</div>
		<div class="header">
			<div class="home">
				<img src="img/back.png" width="15px" height="15px"/>
				<a href="menu.html">Chức Năng</a>
			</div>
			<h1 class="title_header">QUẢN LÝ THIẾT BỊ</h1>
		</div>
		<div id="left">
			<div class="sub_header relative" style="margin-bottom: 10px">
            	<span class="add_icon icon_click"></span>
                <span class="menu_icon icon_click"></span>
				<h1 id="left_title"></h1>
			</div>             
			<input name="" id="dsbt_se_1" placeholder="Nhâp tên"
			value="" type="search" class="input search" style="margin-bottom:10px">
            <div class="loading">
                <img src="images/ajax-loader.gif" />
            </div>
			<ul id="ds_comp" class="liststyle" style="overflow: auto; display:none">
            </ul>
            <div id="page" style='display:none'>
                <a id='first'>First</a>
                <a id='pre'> <img src="img/cate_image_pg_back.png" /> </a>
                <a class='selected_color page_num' id="page1"> 1 </a>
                <a class='page_num' id="page2"> 2 </a>
                <a class='page_num' id="page3"> 3 </a>
                <a id='next'> <img src="img/cate_image_pg_next.png" /> </a>
                <a id='last'> Last </a>
			</div>
		</div>
		<div id="right" class='bc_right'>
			<div class="sub_header relative">
				<span class="edit_icon icon_click" id="hoanthanh" style="display:none"> </span>
				<h1>Chi tiết</h1>	
			</div>
			
            <div class="column" >
            	
            </div>
            
		</div>	
	</div>	
</body>
</html>
